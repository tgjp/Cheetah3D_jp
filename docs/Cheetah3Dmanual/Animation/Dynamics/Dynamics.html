<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Adobe GoLive 6">

  <title>ダイナミクス</title>
  <link href="../../style.css" rel="stylesheet" media="screen" type="text/css">
</head>


<body>
<!-- header -->
<script language="javascript" type="text/javascript" src="../../Images/common.js"></script>
<script language="javascript" type="text/javascript">header();</script>
<!-- header end -->

  <table width="100%" border="0" cellspacing="8" cellpadding="8">

    <tr>
      <td>
        <div align="center">
          <h2>ダイナミクス</h2>
        </div>

        <div align="left">
          <p>Chhetah3Dのダイナミクスフィーチャーは剛体とソフトボディの動的物理演算に使用されます。 Cheetah3Dはハリウッドの超大作などで使用された <a href="http://bulletphysics.org/">Bullet Physics</a> engine を採用しています</p>

          <p>物理演算を行うには、まずシーン内のどのオブジェクトがダイナミクスシミュレーションを行うものなのかを、Cheetah3Dに指示する必要があります。そのため、目的に沿ったダイナミクスタグをこれらのオブジェクトに適用して下さい。 剛体を作りたい場合は<a href="../../Tags/RigidBodyTag/RigidBodyTag.html">剛体</a>タグを、ソフトボディを作成する場合は<a href="../../Tags/SoftBodyTag/SoftBodyTag.html">ソフトボディ</a>タグを割り当てます。また、ロープを作成する場合は<a href="../../Tags/RopeTag/RopeTag.html">ロープ</a> タグを割り当てます。もし、剛体をソフトボディに固定したい場合は <a href="../../Tags/AnchorTag/AnchorTag.html">アンカー</a>タグを使うことができます。</p>
        </div>

        <div align="center">
          <p><img src="Dynamics2.jpg" alt="" height="120" width="251" border="0"><br>
          いくつかのダイナミクスオブジェクトで構成する簡単なシーンです。</p>
        </div>

        <div align="left">
          <p>そのオブジェクトにその目的のタグを割り当てると、そのダイナミクスタグで物理特性を入力できます。（質量、抵抗、剛性など）</p>
        </div>

        <div align="center">
          <p><img src="Dynamics3.jpg" alt="" height="71" width="315" border="0"></p>
        </div>

        <div align="left">
          <p>これで準備完了です。タイムラインの再生ボタンを押すとリアルタイムに解析結果の確認ができます。</p>

          <p><b>初期状態</b></p>

          <p>物理シミュレーションには、初期状態が必要になります。時間が 0 の時点の、すべてのオブジェクトの状態（位置、回転、スピートなど）、パーティクルやソフトボディ のコントロールポイントが、初期状態として使用されます。最初にシミュレーションを実行すると、Cheetah3D は自動的に、その時の全てのオブジェクトの初期状態を保存します。一旦時間 0 の時点にアニメーションを戻すと、初期状態が復元されます。オブジェクトの初期状態は時間が 0 の時点にのみ編集する事が可能です。ですから、一度オブジェクトにダイナミクスタグを適用したら、時間が 0 の時点でのみ移動編集する事が出来ます。そうしないと、時間が 0 に変わるとオブジェクトの初期状態が復元されてしまします。</p>

          <p><b>シミュレーションの複雑さ</b></p>

          <p>もしシミュレーションがそれほど複雑でなければ、アニメーションを再生してダイナミクスのシミュレーション結果をリアルタイムに見ることができます。しかし、シミュレーションが 30 FPS でリアルタイムには再生できないほど複雑になってしまう時には、再生モードの"フレーム再生を優先"をオンにする事が推奨されます。これは全てのフレームをシミュレートする事を保証し、Cheetah3D はリアルタイムを維持するためにフレームを飛ばしません。"フレーム再生を優先"は、"アニメーション -&gt; フレーム単位（フレーム/秒）"メニューから選択できます。このモードによってシミュレーションの精度も改善するので、ダイナミクスを使用する際には（リアルタイム再生に関わらず）オンにしておいてもよいでしょう。</p>
        </div>

        <div align="center">
          <p><img src="Dynamics4.jpg" alt="" height="170" width="310" border="0"></p>
        </div>

        <div align="left">
          <p>シミュレーションで、巨大なパーティクルシステムやソフトボディを使用すると、"フレーム再生を優先"ではさらに、再生が遅くなるかもしれません。その時はシミュレーション結果を焼き付けてください。焼き付けの間、シミュレーション結果はキャッシュに保存され、そのキャッシュはシミュレーションの再生に使用されます。この焼き付け機能で、1000個の剛体を持つパーティクルシステムでも、扱えるようになるでしょう。このダイナミクスキャッシュは .jas ファイルに保存される事に注意して下さい。複雑で巨大なダイナミクスのキャッシュは、ファイルサイズを増大させるでしょう。</p>

          <div align="left">
            <p><b>ヒント</b></p>

            <ul>
              <li>ダイナミクスタグを適用したオブジェクトだけが、シミュレーションに影響します。シミュレーションで適用したオブジェクトが少ない程、解析は速くなります。</li>

              <li>オブジェクトが他のオブジェクトを突き抜ける、または通り抜けてしまう場合、環境設定でシミュレーションの精度をあげると改善するでしょう。</li>

              <li>シミュレーションが爆発の結果になる場合があるので、初期状態でダイナミクスオブジェクトは重なり合ってはいけません。</li>
            </ul>
          </div>
        </div>

        <ul>
          <li style="list-style: none">
            <div align="left"></div>
          </li>
        </ul>

        <div align="left">
          <p><b>ダイナミクス環境設定</b></p>

          <p>ダイナミクス環境設定には、ダイナミクスツールバーアイコンか、"アニメーション -&gt; ダイナミクス" メニューアイテムを使用してアクセスする事ができます。</p>
        </div>

        <div align="center">
          <p><img src="Dynamics1.jpg" alt="" border="0"></p>
        </div>

        <div align="left">
          <p>ダイナミクス環境設定では、様々な物理環境パラメータを設定の他、初期状態のクリアやシミュレーションの焼き付けのようないくつかの操作も実行する事ができます。</p>

          <p><b>プロパティ</b></p>

          <ul>
            <li><i><b>ダイナミクス On/Off:</b></i> ダイナミクスシミュレーション On/Off の切換え</li>

            <li><i><b>精度:</b></i> シミュレーションステップの設定。2x の場合、２回のシミュレーションステップがフレーム毎に計算され、4x の場合、４回のシミュレーションステップがフレーム毎に計算されます。</li>

            <li><i><b>大気密度:</b></i> 空気密度の設定。このプロパティは、ソフトボディにのみ影響します。</li>

            <li><i><b>水分密度:</b></i> 水の密度の設定。このプロパティは、ソフトボディにのみ影響します。</li>

            <li><i><b>水面オフセット:</b></i> 水面のオフセットの設定。このプロパティは、ソフトボディにのみ影響します。</li>

            <li><i><b>水面ノーマル:</b></i> 水面の法線の設定。このプロパティは、ソフトボディにのみ影響します。</li>

            <li><i><b>重力:</b></i> 重力加速度の設定。</li>

            <li><i><b>初期状態をクリア:</b></i> このボタンで、全てのオブジェクトの初期状態をクリアします。</li>

            <li><i><b>キャッシュを使う:</b></i> シミュレーションキャッシュの On/Off の切換え。</li>

            <li><i><b>キャッシュをクリア:</b></i> シミュレーションキャッシュのクリア。キャッシュを使うプロパティを Off にすると自動的にキャッシュを削除します。</li>

            <li><i><b>ダイナミクスの焼き付け:</b></i> 現在のフレームレートでダイナミクスシミュレーションを焼き付けます。シミュレーションの焼き付け成功すると、キャッシュを使うプロパティは自動的に On に切り替わります。</li>
          </ul>
        </div>
      </td>
    </tr>

  </table>

<!-- footer -->
<script language="javascript" type="text/javascript">footer();</script>
<!-- footer end-->
</body>

</html>
