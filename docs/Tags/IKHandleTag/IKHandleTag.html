<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Adobe GoLive 6">

  <title>IK ハンドルタグ</title>
  <link href="../../style.css" rel="stylesheet" media="screen" type="text/css">
</head>


<body>
<!-- header -->
<script language="javascript" type="text/javascript" src="../../Images/common.js"></script>
<script language="javascript" type="text/javascript">header();</script>
<!-- header end -->

  <table width="100%" border="0" cellspacing="8" cellpadding="8">

    <tr>
      <td>
        <div align="center">
          <h2>IK ハンドルタグ</h2>
        </div>

        <p>IK ハンドルタグは、IK （インバーキネマティクス）チェインを設定するために使用されるでしょう。例えば、腕や脚を動かすために。IK を使えば、１つ１つのジョイントの回転を調整する必要はなくなり、ただ IK チェインの最後のジョイントを移動させるだけで良くなります。その最後のジョイント（に付けられるタグ）が、IK ハンドルタグです。<br></p>

        <p>例えば下のイメージの手の位置を調整したい場合、２つの方法を選択できます。</p>

        <p>1. FK : FK （フォワードキネマティクス）を使う場合、手の位置を調整するには、まず肩のジョイントを回転させなければなりません。そして、肘のジョイントを回転させます。（この親ジョイントから順に調整する方法は）勿論充分便利な方法ではありません。</p>

        <p>2. IK : インバーキネマティクスを使用するために、１度手首のジョイントにIK ハンドルタグを付ける必要があります。そして、IK チェインが肩のジョイントまで続かせたいので、"長さ" プロパティを 2 にセットします。１度セットアップすると、手の位置を調整するのに手首のジョイントのみを移動させるだけでよくなり、Cheetah3D は肩と肘のジョイントの回転を自動的にセットします。</p>

        <p><b>例:</b></p>

        <p>キャラクターの右腕の IK チェインをセットアップする方法をこの例で確認してください。</p>

        <ol>
          <li>すでに骨組みは作成済みであるとします。</li>

          <li>後で腕を曲げる方向に、少し肘を曲げておきます。IK ソルバーが腕がどの方向に曲がるかを知るちょっとしたヒントが必要なため、これは重要です。</li>

          <li>手首のジョイントを選択し、ツールバーからIK ハンドルタグを適用します。これはジョイントのデフォルト角度（ prefered angle ）を自動的に設定します。そのため IK タグを適用する前に、肘を曲げておく事は重要になります。</li>

          <li>完了しました。通常の腕の場合は、IK ハンドルタグのデフォルト設定値で既に充分でしょう。</li>

          <li>手首のジョイントの移動で、腕全体が曲がります。</li>
        </ol>

        <div align="center">
          <p><img src="IKHandle1.jpg" alt="" height="227" width="184" border="0"><br>
          長さ: 2 の IK チェイン</p>
        </div>

        <div align="left">
          <p>IK チェインに制約をかけるために、<a href="../IKConstraintsTag/IKConstraintsTag.html">IK コンストレインタグ</a>も使う事ができます。例えば、特定のジョイントの角度を制限したり、ジョイントの曲がりにくさを調整したりできます。</p>

          <p>オブジェクトブラウザ上で "ターゲット" がセットされた IK タグを持つジョイントをダブルクリックすると、Cheetah3D はジョイントの選択を解除し、そのターゲットオブジェクトを選択します。</p>
        </div>

        <p><b>プロパティ:</b></p>

        <ul>
          <li>
            <b><i>IK ソルバー:</i></b>

            <ul>
              <li>3D: すべての回転角度を回転させる事によって、ターゲット位置にとどこうとします。</li>

              <li>2D: ルートジョイント、ターゲットジョイント、 IK チェインの２番目のジョイントによって上に伸張して構成された平面上でのみ IK を回転させようとします。このソルバーは、特にキャラクターの脚や腕をアニメーションさせる場合に便利でしょう。</li>
            </ul>
          </li>

          <li><i><b>長さ:</b></i> IK チェインの長さ</li>

          <li><b><i>ターゲット:</i></b> IK ハンドルが届こうとするオブジェクト</li>

          <li><b><i>ポール:</i></b> ポールベクトル（ IK チェインのルートオブジェクトからポールオブジェクトへ向いたベクトル）と、ターゲットベクトル（ルートオブジェクトからターゲットオブジェクトへ向いたベクトル）は、3D 空間に平面を構成します。2D IK ソルバーは、この平面上で IK チェインを移動させようとします。</li>

          <li><b><i>カラー:</i></b> IK ハンドルと、IK ハンドルと IK チェインのルートオブジェクトを結ぶラインのカラー。</li>

          <li><i><b>デフォルト角度を使用:</b></i> IK チェインのデフォルト角度（ preferred angle ）は、IK ソルバーがターゲット位置にとどき始める最初のポーズを定義します。このプロパティは、デフォルトで有効で、オブジェクトに IK ハンドルタグを適用した時点でこのデフォルト角度は自動的にセットされます。</li>

          <li><i><b>デフォルト角度の設定:</b></i> IK チェイン内のジョイントのデフォルト角度（ preferred angle ）をセットします。</li>

          <li><i><b>ターゲットの追加:</b></i> シーンにフォルダオブジェクトを追加し、自動的にその新規に作られたフォルダオブジェクトを IK チェインのターゲットに設定します。</li>

          <li><i><b>ポールの追加:</b></i> シーンにフォルダオブジェクトを追加し、自動的にその新規に作られたフォルダオブジェクトを IK チェインのポールに設定します。</li>
        </ul>
      </td>
    </tr>

  </table>

<!-- footer -->
<script language="javascript" type="text/javascript">footer();</script>
<!-- footer end-->
</body>

</html>
